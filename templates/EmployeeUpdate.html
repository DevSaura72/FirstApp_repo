{% extends "_Layout.html" %}
{% block title %}Update Employee{% endblock title %}

{% block body %}
<!-- <div class="container-fluid">
    <div class="row">
        <div class="col-md-6">
            
        </div>
        <div class="col-md-6">
            
        </div>
    </div>
</div> -->
<h3>Edit Employee</h3>
<form method="post" action="{% url 'editEmployee' employee.id %}">
    {% csrf_token %}
<div class="container-fluid box">
    <div class="chartbg">
        <div class="row">
            <div class="col-12">
                <div class="card-body">
                    <h4 class="heading">
                        Employee details
                    </h4>
                </div>
            </div>
        </div>
        <hr>
        
        <div class="row">

            <div class="col-12 col-sm-6 col-md-3">
                <div class="card-body">
                    <div class="form-group">
                        <label for="exampleFormControlInput1">First Name</label>
                        <input type="text" class="form-control" id="fName" name="fName" value="{{ employee.FirstName }}" placeholder="Enter first name">
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-md-3">
                <div class="card-body">
                    <div class="form-group">
                        <label for="exampleFormControlInput1">Last Name</label>
                        <input type="text" class="form-control" id="lName" name="lName" value="{{ employee.LastName }}" placeholder="Enter ast name">
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-md-3">
                <div class="card-body">
                    <div class="form-group">
                        <label for="exampleFormControlInput1">Date Of Birth</label>
                        <input type="text" class="form-control" id="dob" name="dob" value="{{ employee.DOB }}" placeholder="Enter Date Of Birth" readonly>
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-md-3">
                <div class="card-body">
                    <div class="form-group">
                        <label for="exampleFormControlInput1">Email Id</label>
                        <input type="text" class="form-control" id="emailId" name="emailId" value="{{ employee.EmailId }}" placeholder="Enter email Id">
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-md-3">
                <div class="card-body">
                    <div class="form-group">
                        <label for="exampleFormControlInput1">Contact Number</label>
                        <input type="text" class="form-control" id="fName" name="contactNo" value="{{ employee.ContactNo }}" placeholder="Enter contact number">
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-md-3">
                <div class="card-body">
                    <div class="form-group">
                        <label for="exampleFormControlInput1">Address Line 1</label>
                        <input type="text" class="form-control" id="addLine1" name="addLine1" value="{{ address_parts.0 }}" placeholder="Enter address Line 1">
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-md-3">
                <div class="card-body">
                    <div class="form-group" id="divUserType">
                        <label for="exampleFormControlInput1">Address Line 2</label>
                        <input type="text" class="form-control" id="addLine2" name="addLine2" value="{{ address_parts.1 }}" placeholder="Enter address Line 2">
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-md-3">
                <div class="card-body">
                    <div class="form-group" >
                        <label for="exampleFormControlInput1">State</label>
                        <input type="text" class="form-control" id="state" name="state" value="{{ address_parts.2 }}" placeholder="State">
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-md-3">
                <div class="card-body">
                    <div class="form-group" >
                        <label for="exampleFormControlInput1">City</label>
                        <input type="text" class="form-control" id="city" name="city" value="{{ address_parts.3 }}" placeholder="City">
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-6 col-md-3">
                <div class="card-body">
                    <div class="form-group">
                        <label for="exampleFormControlInput1">Pin Code</label>
                        <input type="text" class="form-control" id="pinCode" name="pinCode" value="{{ address_parts.4 }}" placeholder="Enter 6 digit pin code">
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-md-3">
                <div class="card-body">
                    <div class="form-group">
                        <label for="depId">Department</label>
                        <select class="form-control" id="depId" name="depId">
                            <option value="0">Select Department</option>
                            {% for dep in department %}
                                <option value="{{ dep.id }}" {% if dep.id == employee.DepartmentId.id %}selected{% endif %}>{{ dep.val1 }}</option> 
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="col-12 col-sm-6 col-md-3">
                <div class="card-body">
                    <div class="form-group">
                        <label for="workLocationId">Work Location</label>
                        <select class="form-control" id="workLocationId" name="workLocationId">
                            <option value="0">Select Working Location</option>
                            {% for loc in workLocations %}
                                <option value="{{ loc.id }}" {% if employee.WorkLocationID and loc.id == employee.WorkLocationID.id %}selected{% endif %}>{{ loc.val1 }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>    
            
            <div class="col-12 col-sm-6 col-md-3">
                <div class="card-body">
                    <div class="form-group">
                        <label for="employeeTypeId">Employee Type</label>
                        <select class="form-control" id="employeeTypeId" name="employeeTypeId">
                            <option value="0">Select Employee Type</option>
                            {% for empType in employeeType %}
                                <option value="{{ empType.id }}" {% if employee.EmploymentTypeID and empType.id == employee.EmploymentTypeID.id %}selected{% endif %}>{{ empType.val1 }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-md-3">
                <div class="card-body">
                    <div class="form-group">
                        <label for="isHeader">Is Active</label>
                        <div class="form-check">
                           <input type="checkbox" class="form-check-input" id="isActive" name="isActive" value="true">
                           <label class="form-check-label" for="isActive">Check to keep user active</label>
                        </div>
                    </div>
                </div>
            </div>
       </div>

       <div class="row">
        <div class="col-12 col-sm-6 col-md-3">
            <div class="card-body">
                <div class="form-group">
                    <button class="btn btn-primary" type="submit">submit</button>
                </div>
            </div> 
       </div>  
       <pre>
        Employee WorkLocationID: {{ employee.WorkLocationID.id}}
    </pre>
    <pre>
        Employee EmploymentTypeID: {{ employee.EmploymentTypeID.id}}
    </pre>             
       </div>
    </div>
</div>
</form>

<script>
    $(function() {
        $("#dob").datepicker({
            dateFormat: "yyyy-mm-dd" // Change format as needed
        });
    
        // Disable editing of the textbox
        // $("#dob").on('focus', function() {
        //     $(this).blur(); // Prevents the input from being edited
        // });
    });
    </script>
{% endblock body %}